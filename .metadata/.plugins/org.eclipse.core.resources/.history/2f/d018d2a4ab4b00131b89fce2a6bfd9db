package nl.mprog.evilspacemonsterhangman.models;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

/*
 * builds a 2d array out of the currentWordList
 */
public class EvilHangman extends Hangman {
	
	
	// private ArrayList<char[]> wordList = new ArrayList<char[]>;
    private List<char[]> evilWordList;
	
	public EvilHangman(List<String> wordList, int wordLength, int wrongGuesses) {
		super(wordLength, wrongGuesses);
		super.getCurrentWordState();
		this.evilWordList = new ArrayList<char[]>();
	}
	
	// builds a char[] out of the words
	@Override
	public void setWordList(List<String> wordList) {
		for(int i = 0; i < super.wordList.size(); i++) {
			evilWordList.add(super.wordList.get(i).toCharArray()); 
		}
	}
	
	public void doEvilUserInput(int key) {
		StringBuilder s = new StringBuilder();
		
		// build a character from the ascii code
        char c = (char) key;
        
        // check if letter is has been used before
        // if not add the letter to usedLetters
        if(this.usedLetters.indexOf(key) == -1) {
            s.append(this.usedLetters);
            s.append(c);
            this.usedLetters = s.toString();
        }else {
        	//return ALREADY_USED;
        }
	}
	
	private void evilBusiness(char key) {
	    List<char[]> _list = new ArrayList<char[]>();
	    int wordListsize = this.evilWordList.size();
	    
		// make the currentWordState iterable
		char[] _ca = super.currentWordState.toCharArray();
		int i;
		
        // for every word in the wordlist check for the letter
        for(i = 0; i < wordListsize; i++) {
        	
        	// check if the letter is found in the word
        	// then add to the buffer _list
        	if(Arrays.binarySearch(evilWordList.get(i), key) == -1) {
        		_list.add(this.evilWordList.get(i));
        	}
        }
        
        // check if the amount of words containing given letter exceeds 50%
        if(_list.size() > wordListsize * 0.5
        
        // put the currentWordState back into string form
        super.currentWordState = new String(_ca);
	}
}